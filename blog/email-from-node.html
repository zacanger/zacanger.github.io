<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript" src="./prism.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<link rel="stylesheet" href="z.css" type="text/css">
<link rel="alternate" type="application/rss+xml" title="subscribe" href="feed.rss">
<title>email from node</title>
<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-37160536-1']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        </script>
<meta name='twitter:card' content='summary' />
<meta name='twitter:site' content='@zacanger' />
<meta name='twitter:title' content='email from node' />
<meta name='twitter:description' content=" nodemailer and nodemailer-smtp-transport  var transporter = nodemailer.createTransport(   smtpTransport('smtps://foo@thing.com:asdf@bar.com')) var transport = nodemailer.createTransport(smtpTransport({   host: 'host' , port: foo , auth: {     user: " />
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://zacanger.com/blog">angr</a></h1>
<div id="description">writings from zac anger, who is not all that angry</div>
</div></div></div>
<div id="divbody"><div class="content">
<!-- entry begin -->
<h3><a class="ablack" href="email-from-node.html">
email from node
</a></h3>
<div class="subtitle">January 28, 2016  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p><code>nodemailer</code> and <code>nodemailer-smtp-transport</code></p>

<pre><code>var transporter = nodemailer.createTransport(
  smtpTransport('smtps://foo@thing.com:asdf@bar.com'))
var transport = nodemailer.createTransport(smtpTransport({
  host: 'host'
, port: foo
, auth: {
    user: 'username'
  , pass: 'password'
  }
}))
transporter.sendMail(mailOptions, function(err, info){
  if(error){res.send(error)}
  else{res.send(info)}
})
</code></pre>

<p>using a service, we're just sending the bare instructions there from the front-end,
so sendgrid or whatever would take care of the actual compiling, rendering, and all
that nonsense. (remember the blogs on tinyletter or whatever, about how to even make
your email acceptable? hmmm....)</p>

<p>sendgrid, mandrill, and mailgun are the big ones. sendgrid is a little less likely
to throw your emails in spam. 12k per month or something like that (with daily cap
of maybe 400-ish) for free. they have a slight delay when you sign up, maybe a few
hours. obvs we'd likely want to do our own server/service for large-scale, but the
analytics available on these things are worth it...? (see: pb:tag/analytics.)</p>

<p>to use sendgrid we'd need to <code>npm i -S sendgrid</code>. then we're using fs.readFile(), i
suppose, to work with things on the disk. (note that this could also be in streams,
and it could also be in a db....) sendgrid can work with some templating on the
back end, though it evidently doesn't inline your css for you.... ah, i see,
it looks like zurb's got a tool for that (of course--they've got a tool for
everything). i think tinyletter has one, too.</p>

<p>there are yeoman generators for all this stuff. why do the dirty work yourself?</p>

<p>zero and rabbit are things. i guess rabbitmq is currently the more popular one?</p>

<p>tags: <a href='tag_email.html'>email</a>, <a href='tag_node.html'>node</a></p>






<!-- text end -->
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/email-from-node.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/email-from-node.html'><span id='count-7165'></span></a>&nbsp;</p>
<!-- entry end -->
</div>
<div id="footer">WTFPL <a href="http://twitter.com/zacanger">Zac Anger</a> &mdash; <a href="mailto:zac&#64;zacanger&#46;com">zac&#64;zacanger&#46;com</a><br>
written in <a href="https://daringfireball.net/projects/markdown/">markdown</a> and generated with a <a href="http://tiswww.case.edu/php/chet/bash/bashtop.html">shell script</a></div>
<a href="http://zacanger.com/me">zac anger?</a>
</div></div>
</body></html>
