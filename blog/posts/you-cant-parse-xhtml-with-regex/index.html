<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"/><title>you can&#x27;t parse (x)html with regex | Zac Anger&#x27;s Blog</title><meta name="description" content="source"/><meta name="author" content="Zac Anger"/><meta name="keywords" content="blog,design,javascript,js,music,programming,vim,web development,writing,regex,html,xhtml"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@zacanger"/><meta name="twitter:creator" content="@zacanger"/><meta name="twitter:title" content="you can&#x27;t parse (x)html with regex"/><meta name="twitter:description" content="source"/><meta name="twitter:image" content="http://zacanger.com/logo.png"/><meta property="og:type" content="article"/><meta property="og:title" content="you can&#x27;t parse (x)html with regex"/><meta property="og:description" content="source"/><meta property="og:site_name" content="http://zacanger.com/blog"/><meta property="og:image" content="http://zacanger.com/logo.png"/><script type="text/javascript" href="/blog/assets/highlight.pack.js"></script><link rel="stylesheet" type="text/css" href="/blog/assets/styles.css"/><link rel="stylesheet" type="text/css" href="/blog/assets/github-gist.css"/></head><body><header><h1><a href="/blog">Zac Anger&#x27;s Blog</a></h1><h2>you can&#x27;t parse (x)html with regex</h2><div>25 December, 2015</div></header><div><div><pre><code class="hljs">You can't parse [X]HTML <span class="hljs-keyword">with</span> regex. Because HTML can't be parsed <span class="hljs-keyword">by</span> regex. Regex <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> a tool <span class="hljs-keyword">that</span> can be used <span class="hljs-keyword">to</span> correctly parse HTML. As I have answered <span class="hljs-keyword">in</span> HTML-<span class="hljs-keyword">and</span>-regex questions here so many <span class="hljs-keyword">times</span> <span class="hljs-keyword">before</span>, <span class="hljs-keyword">the</span> use <span class="hljs-keyword">of</span> regex will <span class="hljs-keyword">not</span> allow you <span class="hljs-keyword">to</span> consume HTML. Regular expressions are a tool <span class="hljs-keyword">that</span> <span class="hljs-keyword">is</span> insufficiently sophisticated <span class="hljs-keyword">to</span> understand <span class="hljs-keyword">the</span> constructs employed <span class="hljs-keyword">by</span> HTML. HTML <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> a regular language <span class="hljs-keyword">and</span> hence cannot be parsed <span class="hljs-keyword">by</span> regular expressions. Regex queries are <span class="hljs-keyword">not</span> equipped <span class="hljs-keyword">to</span> break down HTML <span class="hljs-keyword">into</span> <span class="hljs-keyword">its</span> meaningful parts. so many <span class="hljs-keyword">times</span> <span class="hljs-keyword">but</span> <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> getting <span class="hljs-keyword">to</span> <span class="hljs-keyword">me</span>. Even enhanced irregular regular expressions <span class="hljs-keyword">as</span> used <span class="hljs-keyword">by</span> Perl are <span class="hljs-keyword">not</span> up <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> task <span class="hljs-keyword">of</span> parsing HTML. You will never make <span class="hljs-keyword">me</span> crack. HTML <span class="hljs-keyword">is</span> a language <span class="hljs-keyword">of</span> sufficient complexity <span class="hljs-keyword">that</span> <span class="hljs-keyword">it</span> cannot be parsed <span class="hljs-keyword">by</span> regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every <span class="hljs-built_in">time</span> you attempt <span class="hljs-keyword">to</span> parse HTML <span class="hljs-keyword">with</span> regular expressions, <span class="hljs-keyword">the</span> unholy child weeps <span class="hljs-keyword">the</span> blood <span class="hljs-keyword">of</span> virgins, <span class="hljs-keyword">and</span> Russian hackers pwn your webapp. Parsing HTML <span class="hljs-keyword">with</span> regex summons tainted souls <span class="hljs-keyword">into</span> <span class="hljs-keyword">the</span> realm <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> living. HTML <span class="hljs-keyword">and</span> regex go together like love, marriage, <span class="hljs-keyword">and</span> ritual infanticide. The &lt;center&gt; cannot hold <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> too late. The force <span class="hljs-keyword">of</span> regex <span class="hljs-keyword">and</span> HTML together <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> same conceptual <span class="hljs-literal">space</span> will destroy your mind like so much watery putty. If you parse HTML <span class="hljs-keyword">with</span> regex you are giving <span class="hljs-keyword">in</span> <span class="hljs-keyword">to</span> Them <span class="hljs-keyword">and</span> their blasphemous ways which doom us all <span class="hljs-keyword">to</span> inhuman toil <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> One <span class="hljs-keyword">whose</span> Name cannot be expressed <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify <span class="hljs-keyword">the</span> n​erves <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> sentient whilst you observe, your psyche withering <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> onslaught <span class="hljs-keyword">of</span> horror. Rege̿̔̉x-based HTML parsers are <span class="hljs-keyword">the</span> cancer <span class="hljs-keyword">that</span> <span class="hljs-keyword">is</span> killing StackOverflow <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> too late <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> too late we cannot be saved <span class="hljs-keyword">the</span> trangession <span class="hljs-keyword">of</span> a chi͡ld ensures regex will consume all living tissue (except <span class="hljs-keyword">for</span> HTML which <span class="hljs-keyword">it</span> cannot, <span class="hljs-keyword">as</span> previously prophesied) dear lord help us how can anyone survive this scourge using regex <span class="hljs-keyword">to</span> parse HTML has doomed humanity <span class="hljs-keyword">to</span> an eternity <span class="hljs-keyword">of</span> dread torture <span class="hljs-keyword">and</span> security holes using regex <span class="hljs-keyword">as</span> a tool <span class="hljs-keyword">to</span> process HTML establishes a breach <span class="hljs-keyword">between</span> this world <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> dread realm <span class="hljs-keyword">of</span> c͒ͪo͛ͫrrupt entities (like SGML entities, <span class="hljs-keyword">but</span> more corrupt) a mere glimpse <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> world <span class="hljs-keyword">of</span> reg​ex parsers <span class="hljs-keyword">for</span> HTML will ins​tantly transport a programmer's consciousness <span class="hljs-keyword">into</span> a world <span class="hljs-keyword">of</span> ceaseless screaming, he comes, <span class="hljs-keyword">the</span> pestilent slithy regex-infection wil​l devour your HT​ML parser, <span class="hljs-built_in">application</span> <span class="hljs-keyword">and</span> existence <span class="hljs-keyword">for</span> all <span class="hljs-built_in">time</span> like Visual Basic only worse he comes he comes do <span class="hljs-keyword">not</span> fi​ght he com̡e̶s, ̕h̵i​s un̨ho͞ly radiańcé destro҉ying all enli̍̈́̂̈́ghtenment, HTML tags lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq​uid pain, <span class="hljs-keyword">the</span> song <span class="hljs-keyword">of</span> re̸gular exp​ression parsing will exti​nguish <span class="hljs-keyword">the</span> voices <span class="hljs-keyword">of</span> mor​tal man <span class="hljs-keyword">from</span> <span class="hljs-keyword">the</span> sp​here I can see <span class="hljs-keyword">it</span> can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ <span class="hljs-keyword">it</span> <span class="hljs-keyword">is</span> beautiful t​he final snuffing <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> lie​s <span class="hljs-keyword">of</span> Man ALL IS LOŚ͖̩͇̗̪̏̈́T ALL I​S LOST <span class="hljs-keyword">the</span> pon̷y he comes he c̶̮omes he comes <span class="hljs-keyword">the</span> ich​<span class="hljs-keyword">or</span> permeates all MY FACE MY FACE ᵒh god no NO NOO̼O​O NΘ stop <span class="hljs-keyword">the</span> an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨe̠̅s ͎a̧͈͖r̽̾̈́͒͑e n​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ TO͇̹̺ͅƝ̴ȳ̳ TH̘Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ
</code></pre>
<p><a href="http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">source</a></p>
</div><p><a href="https://github.com/zacanger/dotcom/issues/new?title=you can&#x27;t parse (x)html with regex" target="_blank">Submit a bug report</a></p></div><footer>Made by <a href="/">Zac Anger</a><br/><br/><a href="/blog/rss.xml">Feed</a> · <a href="/LICENSE.txt">License</a> · <a href="https://github.com/zacanger">GitHub</a> · <a href="https://twitter.com/zacanger">Twitter</a> · <a href="https://mastodon.social/@zacanger">Mastodon</a></footer></body></html>