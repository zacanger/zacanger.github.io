<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="text/javascript" src="./prism.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<link rel="stylesheet" href="z.css" type="text/css">
<link rel="alternate" type="application/rss+xml" title="subscribe" href="feed.rss">
<title>angr &mdash; posts tagged "react"</title>
<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-37160536-1']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

        </script>
<meta name='twitter:card' content='summary' />
<meta name='twitter:site' content='@zacanger' />
<meta name='twitter:title' content='angr &mdash; posts tagged "react"' />
<meta name='twitter:description' content=" More React Notes  April 27, 2016 &mdash;  Zac Anger   Lifecycle &amp;Co.   The three phases of life:  Mounting Updating Unmounting  Mounting:  getInitialState(), before component is mounted. componentWillMount(), immediately before mounting. compone" />
<meta name='twitter:image' content='http://zacanger.com/blog/devmtn-sign.jpg' />
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="http://zacanger.com/blog">angr</a></h1>
<div id="description">writings from zac anger, who is not all that angry</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="more-react-notes.html">
More React Notes
</a></h3>
<div class="subtitle">April 27, 2016 &mdash; 
Zac Anger</div>
<!-- text begin -->

<h2>Lifecycle &amp;Co.</h2>

<ul>
<li>The three phases of life:
<ul>
<li>Mounting</li>
<li>Updating</li>
<li>Unmounting</li>
</ul></li>
<li>Mounting:
<ul>
<li><code>getInitialState()</code>, before component is mounted.</li>
<li><code>componentWillMount()</code>, <em>immediately</em> before mounting.</li>
<li><code>componentDidMount()</code>, <em>immediately</em> after mounting. DOM-node-dependant initialisation happens here.</li>
</ul></li>
<li>Updating:
<ul>
<li><code>componentWillReceiveProps()</code>, invoked when mounted component receives new props from parent. Use this
when changing state (<code>this.setState()</code>).</li>
<li><code>shouldComponentUpdate()</code>, invoked when component 'decides' whether or not to push updates to the DOM.
Return <code>false</code> from this if we don't want React to update.</li>
<li><code>componentDidUpdate()</code>, invoked <em>immediately</em> after updating.</li>
</ul></li>
<li>Unmounting:
<ul>
<li><code>componentWillUnmount()</code>, <em>immediately</em> before component unmounts and is destroyed. Clean-up goes here.</li>
</ul></li>
<li>While mounted, <code>component.forceUpdate()</code> is also available. This is for any mounted component whose state
has changed without <code>this.setState()</code>.</li>
</ul>

<p>The big, big difference between <code>props</code> and <code>state</code>: state is private to components.
A parent component (or any other component) can never manipulate the state of another (with <code>setState</code> or whatever).</p>

<ul>
<li>So:
<ul>
<li>parent passes new props to child</li>
<li>child handles new props with <code>componentWillReceiveProps</code></li>
<li>calls <code>setState</code> if necessary</li>
<li>child handles new state in <code>componentWillUpdate</code></li>
<li>if component is stateful, <code>componentWIllReceiveProps</code> will be enough here</li>
</ul></li>
</ul>

<p>Defaults set in <code>getInitialState</code> will be used for initial rendering.</p>

<p>tags: <a href='tag_react.html'>react</a>, <a href='tag_lifecycle.html'>lifecycle</a>, <a href='tag_events.html'>events</a></p>
<!-- text end -->
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/more-react-notes.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='https://twitter.com/search?q=http://zacanger.com/blog/more-react-notes.html'><span id='count-21810'></span></a>&nbsp;</p>
<h3><a class="ablack" href="react-notes.html">
REACT NOTES
</a></h3>
<div class="subtitle">January 25, 2016  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p>This is all <em>such</em> a mess, and so unsorted, so, sorry about that in advance.</p>

<p>This is also almost entirely notes from very early on in trying to learn React, so not all of it will be completely valid, probably. Okay. So.</p>

<p>Enjoy.</p>

<h4>REACT NOTES (yeah, again):</h4>

<p>There's no <code>if...else</code> in JSX. Doesn't work. Don't try it (in your JSX).</p>

<p>Don't try <code>&lt;!doctype&gt;</code> either. It'll break stuff.</p>

<p>Same with HTML comments. Not worth the trouble, I guess. No one reads them, anyway, so whatever.</p>

<p>Don't try to use your own code style. JSX needs to be written the way the docs say to. Doing React means doing React <em>their</em> way, so screw your purely stylistic preferences, they don't matter anymore. Which, unfortunately, means semicolons everywhere. Gross.</p>

<p><em>Every single XML tag needs to be closed</em>. That means that <code>&lt;br&gt;</code> is invalid, but <code>&lt;br&gt;&lt;/br&gt;</code> is... totally valid. Also, self-closing tags (which literally do not even exist in HTML anymore) work just fine, so <code>&lt;div /&gt;</code> is valid. What the hell.</p>

<p>In JSX, <strong>everything</strong> in <code>{}</code> will be evaluated as Javascript. So you can do some things there, if you need to. (But not <code>if...else</code>!)</p>

<p>Any JSX over multiple lines needs to be wrapped in parens. If it's single-line, you don't need them.</p>

<p>Evidently it's better to indent all the stuff going in your tags just inside the tag, rather than even with the first whatchamacallit. This is what I mean:</p>

<pre><code>&lt;input type="text"
       value={whatever.stuff}
       onChange={this.foo.bar} /&gt;
</code></pre>

<p>...is apparently NOT the way to do it. Instead, we want to do:</p>

<pre><code>&lt;input
  type="text"
  value={whatever.stuff}
  onChange={this.foo.bar} /&gt;
</code></pre>

<p>which, personally, I find more annoying and <em>less</em> readable, but apparently that's how the React community does, so whatever. Oh, and as to the closing of the tag, no matter what it's gonna be hideous, so I don't know or care whether it should be on a newline. Probably not, because that's just even more lines, but I have seen a lot of this:</p>

<pre><code>&lt;input type="text"
  value={whatever.stuff}
  onChange={this.foo.bar}
/&gt;
</code></pre>

<p>which is really even more annoying, but whatever. Lastly, as far as style goes, I'll just put what would make the most sense to <strong>me</strong>, personally. Note how clean and lined up things are? Yeah. Much better, to my eyes. Still ugly af, though.</p>

<pre><code>&lt;input type="text"
      value={whatever.stuff}
   onChange={this.foo.bar} /&gt;
</code></pre>

<p class="readmore"><a href="react-notes.html">read more...</a></p>
<p>tags: <a href='tag_react.html'>react</a>, <a href='tag_webpack.html'>webpack</a>, <a href='tag_js.html'>js</a>, <a href='tag_notes.html'>notes</a>, <a href='tag_redux.html'>redux</a></p>
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/react-notes.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/react-notes.html'><span id='count-6354'></span></a>&nbsp;</p>
<h3><a class="ablack" href="isomorphic-apps-in-react.html">
Isomorphic Apps in React
</a></h3>
<div class="subtitle">January 25, 2016  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p>I don't know for sure that this deserves its own file... we'll see.</p>

<p>We'll be processing several requests simultaneously, so we should deal with a global state (dependent on user) (like flux stores state, or whatever).</p>

<p>About 90%, really, of the client and server code, should be shared.</p>

<p>Which parts should be isomorphic?</p>

<ol>
<li>view</li>
<li>styles</li>
<li>routing</li>
<li>data fetching</li>
<li>config</li>
<li>i10n</li>
</ol>

<p>The view is already there, really. Just gotta use <code>ReactDOM.renderToString</code> instead of <code>ReactDOM render</code>.</p>

<p>Inline styles better than individual sheets in the dirs, for this architecture. React supports them. That said, one should <em>emulate</em> pseudo attributes (:hover, :active, and :focus, for example) in your Javascript. Handle your own prefixes (grooosss). Emulate your media queries in Js, too. Gotta eventually merge the CSS somehow; http://stack.formidable.com/radium/ isn't half-bad for that.</p>

<p>Because there's so much Js to bundle up and load, it's actually okay to but the bundle at the end of your markup for this case. But we want to split things out in the webpack.config.js, so that we've got CSS on its own and can load that first the way we used to. Here's a sample webpack.config.js:</p>

<pre><code>var webpack = require('webpack')
var ExtractTextPlugin = require('extract-text-webpack-plugin')

module.exports = {
  entry: "./src/app.js",
  plugins: [
    new webpackDefinePlugin({
      "process.env": {
        BROWSER: JSON.stringify(true),
        NODE_ENV: JSON.stringify(process.env.NODE_ENV || 'development')
      }
    }),
    new ExtractTextPlugin("[name].css")
  ],
  output : {
    path: __dirname + '/public/build/',
    filename: 'bundle.js',
    publicPath: 'build/'
  },
  module: {
    loaders: [
      {
        test: /\.css%/,
        loader: ExtractTextPlugin.extract("style-loader", "css-loader!autoprefixer-loader")
      },
      {
        test: /\.less$/,
        loader: ExtractTextPlugin.extract("style-loader", "css-loader!autoprefixer-loader!less-loader")
      },
      {
        test: /\.png$/,
        loader: "url-loader?limit=10000&amp;mimietype=image/png"
      },
      {
        test: /\.jsx$/,
        loader: "react-hot!babel!eslint-loader",
        exclude: [/node_modules/, /public/]
      },
      {
        test: /\.js$/,
        loader: "babel!eslint-loader",
        exclude: [/node_modules/, /public/]
    ]
  },
  eslint: {
    configFile: '.eslintr`^c'
  }
}
</code></pre>

<p>React Router works well for isomorphic stuff. Here's an example of using it with server-side rendering:</p>

<pre><code>import {renderToString} from 'react-dom/server'
import {match, RouterContext} from 'react-router'
import routes from './routes'

serve((req, res) =&gt;
  // req.url would be full url path from original request, including query string
    match({routes, location: req.url}, (error, redirectLocation, renderProps) =&gt; {
      if (error){res.status(500).send(error.message)}
      else if (redirectLocation){res.redirect(302, redirectLocation.pathname + redirectLocation.search)}
      else if (renderProps){res.status(200).send(renderToString(&lt;RouterContext {...renderProps} /&gt;))}
      else {res.status(404).send('404 not found')}
  })
)
</code></pre>

<p>Redux in an isomporhic app: better than a singelton flux store. With Redux we can use react-redux's react context. Using redux store's API makes dumping and restoring store state easy. Check the code of https://github.com/WebbyLab/itsquiz-wall for a really good, in-depth, production app using all of the above tech in an isomorphic app.</p>

<p>Here's a simple api example that works both server- and client-side:</p>

<pre><code>'use strict'
import apiFactory from './api'

const api=apiFactory({
  apiPrefix: 'http://pharoah.js.org/api/v1'
})
const promise = api.users.list()
</code></pre>

<p>Here's a promise-pased client: https://www.npmjs.com/package/axios</p>

<p>Here are two that use Fetch (which are fine in Mozilla and Chromium, now): https://www.npmjs.com/package/isomorphic-fetch and https://www.npmjs.com/package/node-fetch</p>

<p>So, here's what we might do on the client:</p>

<ul>
<li>render react components</li>
<li>show spinners</li>
<li>fetch component-dependent data</li>
<li>update the page</li>
</ul>

<p>And on the server:</p>

<ul>
<li>preload all the data</li>
<li>render the page to a string</li>
<li>send html to the client</li>
</ul>

<p>How to do this isomorphically? Check that itsquiz app again, it's so much easier than typing out an example here.</p>

<p>For a full-on tutorial using React and Redux to make an isomorphic app (Todos, of course...), check here: https://medium.com/front-end-developers/handcrafting-an-isomorphic-redux-application-with-love-40ada4468af4</p>

<p>tags: <a href='tag_isomorphic.html'>isomorphic</a>, <a href='tag_react.html'>react</a>, <a href='tag_js.html'>js</a></p>






<!-- text end -->
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/isomorphic-apps-in-react.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/isomorphic-apps-in-react.html'><span id='count-29741'></span></a>&nbsp;</p>
<h3><a class="ablack" href="meteor-and-react.html">
meteor and react
</a></h3>
<div class="subtitle">January 21, 2016  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p>anything in <code>&lt;template&gt;is a _meteor_ template&lt;/template&gt;</code>; include in html by <code>{{&gt; thatTemplate}}</code>, or in js with <code>Template.thatTemplate</code>. (not doing that at all with react as view.)</p>

<p><code>React.createClass</code> defines a new view... class. why are components classes? <code>props</code> are attributes that allow compnents/classes to inherit <em>data</em>.</p>

<p><code>render()</code> (react) gets a description of the markup to show. html's inside jsx, so get used to angle brackets in your scripting, yay.... jsx: <code>className</code> instead of <code>class</code>. jsx, not templating lang... just compiles to plain old js.</p>

<p>jsx can use es6 (what about esnext-next?). this includes <code>const</code> &amp; <code>let</code>, <code>methodShorthand(){...}</code>, and <code>=&gt;</code>.</p>

<p>collections: how meteor stores persistent data. aka mongo. lol duh. accessible from server and client.</p>

<p><code>collectionName = new Mongo.Collection("collection-name")</code> to make that happen. that makes a new mongo collection on the server, and cache on the client.</p>

<p>tags: <a href='tag_meteor.html'>meteor</a>, <a href='tag_react.html'>react</a>, <a href='tag_js.html'>js</a></p>







<!-- text end -->
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/meteor-and-react.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/meteor-and-react.html'><span id='count-17043'></span></a>&nbsp;</p>
<h3><a class="ablack" href="notes.html">
Notes
</a></h3>
<div class="subtitle">January 13, 2016  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p>So, I have a <em>lot</em> of notes that I've taken over the course of the last couple of months. Seeing as they're not doing me a whole lot of good sitting in a pile of Markdown files, I'm gradually going through them, cleaning them up, and I think I'll just post them all as sort of blog posts. Why not? So here's a little list of the topics I'll be covering over the next few weeks:</p>

<ul>
<li>Unicode</li>
<li>SystemJS (and JSPM)</li>
<li>Go</li>
<li>UI</li>
<li>Github Organizations</li>
<li>Functional Reactive Programming (and RxJS)</li>
<li>Elm</li>
<li>Browserify</li>
<li>Bash Builtins</li>
<li>Firebase</li>
<li>ES6</li>
<li>Pusher</li>
<li>Styleguides</li>
<li>Passport (and problems getting errors out of Express)</li>
<li>React (and Webpack)</li>
<li>Isomorphic React</li>
<li>Flux</li>
<li>Meteor</li>
<li>All the reasons I kind of dislike Angular</li>
<li>Bacon.js</li>
<li>Basics of webmastering (which is totally not a word)</li>
<li>Functional programming (in general)</li>
<li>Effective web design</li>
<li>Mongo (and Mongoose, and MongoJS, and Mongolayer)</li>
<li>Ruby, maybe a little bit</li>
<li>Electron (formerly Atom Shell)</li>
<li>NW.js (formerly Node Webkit)</li>
<li>Gulp</li>
<li>Node in general</li>
<li>Probably a good bit of Node stuff, really</li>
<li>I like Node a lot</li>
<li>Maybe a little bit of jQuery?</li>
<li>The developer hiring process</li>
<li>Maybe a little bit of that Javascript language, or something?</li>
<li>Probably not much at all on HTML, because HTML doesn't need... notes... really</li>
<li>CSS... lol, CSS.</li>
<li>People, and the experience of dealing with people on a regular basis</li>
<li>What it's like to live with the people I live with</li>
<li>What it's like to actually find myself liking human beings, and wanting to be around them, especially certain ones, quite a lot. (It's <em>weird!</em>)</li>
</ul>

<p>tags: <a href='tag_blogs.html'>blogs</a>, <a href='tag_personal.html'>personal</a>, <a href='tag_notes.html'>notes</a>, <a href='tag_education.html'>education</a>, <a href='tag_react.html'>react</a>, <a href='tag_js.html'>js</a>, <a href='tag_electron.html'>electron</a>, <a href='tag_flux.html'>flux</a>, <a href='tag_meteor.html'>meteor</a>, <a href='tag_elm.html'>elm</a>, <a href='tag_gulp.html'>gulp</a>, <a href='tag_css.html'>css</a>, <a href='tag_es6.html'>es6</a>, <a href='tag_ruby.html'>ruby</a>, <a href='tag_mongo.html'>mongo</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_unicode.html'>unicode</a>, <a href='tag_go.html'>go</a>, <a href='tag_ui.html'>ui</a>, <a href='tag_design.html'>design</a></p>







<!-- text end -->
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/notes.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/notes.html'><span id='count-9132'></span></a>&nbsp;</p>
<h3><a class="ablack" href="my-problem-with-react.html">
My Problem With React
</a></h3>
<div class="subtitle">December 28, 2015  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p>There's this <a href="https://medium.com/bread-crumbs/i-officially-endorse-react-for-president-9c103e4568d4">post</a> kinda making the rounds lately. It's a nice post. Everything in there, I agree with, for sure. Especially as someone who feels a lot more comfortable with Node than with, say, Angular's mostly ungrokable <a href="https://docs.angularjs.org/api">API</a>. I <em>get</em> why people like React. <em>I get React</em>. It's not exactly hard to pick up, anyway. It's very logical and intuitive. And I really do like the concepts behind React. But I still have problems with it.</p>
<p class="readmore"><a href="my-problem-with-react.html">read more...</a></p>
<p>tags: <a href='tag_react.html'>react</a>, <a href='tag_frameworks.html'>frameworks</a>, <a href='tag_libraries.html'>libraries</a>, <a href='tag_riot.html'>riot</a>, <a href='tag_vue.html'>vue</a>, <a href='tag_js.html'>js</a>, <a href='tag_javascript.html'>javascript</a>, <a href='tag_angular.html'>angular</a>, <a href='tag_components.html'>components</a>, <a href='tag_jsx.html'>jsx</a>, <a href='tag_mithril.html'>mithril</a>, <a href='tag_design.html'>design</a></p>
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/my-problem-with-react.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/my-problem-with-react.html'><span id='count-8898'></span></a>&nbsp;</p>
<h3><a class="ablack" href="quick-little-thing.html">
QUICK LITTLE THING
</a></h3>
<div class="subtitle">November 21, 2015  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p><a href="https://www.instagram.com/p/-SlGTAxf6W/?taken-by=zacanger"><img src="http://zacanger.com/blog/devmtn-sign.jpg" alt="DevMountain Sign" /></a></p>

<p class="readmore"><a href="quick-little-thing.html">read more...</a></p>
<p>tags: <a href='tag_react.html'>react</a>, <a href='tag_angular.html'>angular</a>, <a href='tag_mean-stack.html'>mean-stack</a>, <a href='tag_meteor.html'>meteor</a>, <a href='tag_socket.html'>socket</a>, <a href='tag_idk.html'>idk</a>, <a href='tag_personal projects.html'>personal projects</a>, <a href='tag_break.html'>break</a></p>
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/quick-little-thing.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/quick-little-thing.html'><span id='count-12213'></span></a>&nbsp;</p>
<h3><a class="ablack" href="react-meetup-17-nov-2015.html">
React Meetup, 17 Nov, 2015
</a></h3>
<div class="subtitle">November 17, 2015  &mdash; 
Zac Anger</div>
<!-- text begin -->

<p>React:
  - Good at managing state.
    - which is to say, dynamism
  - Components, just like... everything else these days, so that's totally irrelevant.
  - virtual dom, which is not exactly facebook's anyway.
  - unidirectional data flow, which is a mouthful.
    - that is, the loop.
    - more boilerplate to run that... less boilerplate-replacer built into react?</p>

<p class="readmore"><a href="react-meetup-17-nov-2015.html">read more...</a></p>
<p>tags: <a href='tag_react.html'>react</a>, <a href='tag_meetup.html'>meetup</a>, <a href='tag_php.html'>php</a>, <a href='tag_xml.html'>xml</a>, <a href='tag_js.html'>js</a>, <a href='tag_school.html'>school</a>, <a href='tag_meteor.html'>meteor</a></p>
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=http://zacanger.com/blog/react-meetup-17-nov-2015.html&text=&lt;say nice things about me&gt;&via=zacanger'>so, tweet it?</a> 
<a href='http://topsy.com/trackback?url=http://zacanger.com/blog/react-meetup-17-nov-2015.html'><span id='count-29172'></span></a>&nbsp;</p>
</div>
<div id="footer">WTFPL <a href="http://twitter.com/zacanger">Zac Anger</a> &mdash; <a href="mailto:zac&#64;zacanger&#46;com">zac&#64;zacanger&#46;com</a><br>
written in <a href="https://daringfireball.net/projects/markdown/">markdown</a> and generated with a <a href="http://tiswww.case.edu/php/chet/bash/bashtop.html">shell script</a></div>
<a href="http://zacanger.com/me">zac anger?</a>
</div></div>
</body></html>
